<!DOCTYPE html>
<html>
<head>
  <title>Palavra-Cruzada</title>
  <style>
    /* Estilos para a grade */
    .grade {
      display: grid;
      grid-template-columns: repeat(9, 50px);
      grid-template-rows: repeat(9, 50px);
      gap: 2px;
      margin-bottom: 20px;
    }

    .celula {
      border: 1px solid #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: Arial, sans-serif;
      font-size: 20px;
    }

    /* Estilos para as palavras encontradas */
    .encontrada {
      background-color: #66bb6a;
    }

    /* Estilos para as palavras não encontradas */
    .nao-encontrada {
      background-color: #ef5350;
    }

    /* Estilos para a área de entrada de palavras */
    .entrada-palavra {
      display: flex;
      margin-bottom: 10px;
    }

    .entrada-palavra input {
      flex: 1;
      margin-right: 10px;
    }

    .entrada-palavra button {
      padding: 5px 10px;
      font-size: 14px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Palavra-Cruzada</h1>

  <div class="grade">
    
  </div>

  <div class="entrada-palavra">
    <input type="text" id="palavra" placeholder="Digite uma palavra">
    <button id="verificar">Verificar</button>
  </div>

  <div id="mensagem"></div>

  <script>
    // Palavras
    const palavras = ['casa', 'carro', 'gato', 'bicicleta', 'livro'];

    // Grade da palavra-cruzada
    const grade = [
      ['c', 'a', 'r', 'r', 'o', 'a', 'c', 'a', 's'],
      ['a', 'c', 'a', 's', 'a', 'c', 'a', 'r', 'a'],
      ['s', 'b', 'i', 'c', 'i', 'l', 'i', 'v', 'r'],
      ['a', 'g', 'a', 't', 'o', 'a', 'r', 'r', 'o'],
      ['r', 'r', 'l', 'v', 'k', 'c', 'a', 't', 'o'],
      ['o', 'a', 'a', 'a', 'a', 'a', 'a', 'a', 'a'],
      ['a', 'a', 'a', 'a', 'a', 'a', 'a', 'a', 'a'],
      ['a', 'a', 'a', 'a', 'a', 'a', 'a', 'a', 'a'],
      ['a', 'a', 'a', 'a', 'a', 'a', 'a', 'a', 'a']
    ];

    // Posições iniciais das palavras na grade
    const posicoesIniciais = {
      casa: { linha: 0, coluna: 0, horizontal: true },
      carro: { linha: 1, coluna: 0, horizontal: true },
      gato: { linha: 3, coluna: 1, horizontal: true },
      bicicleta: { linha: 2, coluna: 4, horizontal: false },
      livro: { linha: 4, coluna: 0, horizontal: true }
    };

    // Função para verificar se uma palavra é encontrada na grade
    function encontrarPalavra(palavra, grade, posicaoInicial) {
      const tamanho = palavra.length;
      const linhaMaxima = grade.length - 1;
      const colunaMaxima = grade[0].length - 1;

      // Verificar horizontalmente
      if (posicaoInicial.horizontal && posicaoInicial.coluna + tamanho - 1 <= colunaMaxima) {
        for (let i = 0; i < tamanho; i++) {
          if (grade[posicaoInicial.linha][posicaoInicial.coluna + i] !== palavra[i]) {
            return false;
          }
        }
        return true;
      }

      // Verificar verticalmente
      if (!posicaoInicial.horizontal && posicaoInicial.linha + tamanho - 1 <= linhaMaxima) {
        for (let i = 0; i < tamanho; i++) {
          if (grade[posicaoInicial.linha + i][posicaoInicial.coluna] !== palavra[i]) {
            return false;
          }
        }
        return true;
      }

      return false;
    }

    // Função para atualizar a interface
    function atualizarInterface() {
      const entradaPalavra = document.getElementById('palavra');
      const palavra = entradaPalavra.value.trim().toLowerCase();
      const gradeElement = document.querySelector('.grade');
      const mensagemElement = document.getElementById('mensagem');

      // Limpar estilos anteriores
      const celulas = gradeElement.querySelectorAll('.celula');
      celulas.forEach(celula => {
        celula.classList.remove('encontrada', 'nao-encontrada');
      });

      // Verificar se a palavra está correta e atualizar estilos
      if (palavra !== '') {
        const posicaoInicial = posicoesIniciais[palavra];
        if (posicaoInicial) {
          const encontrada = encontrarPalavra(palavra, grade, posicaoInicial);
          if (encontrada) {
            mensagemElement.textContent = `A palavra "${palavra}" foi encontrada na grade.`;
            mensagemElement.classList.remove('nao-encontrada');
            mensagemElement.classList.add('encontrada');
          } else {
            mensagemElement.textContent = `A palavra "${palavra}" não foi encontrada na grade.`;
            mensagemElement.classList.remove('encontrada');
            mensagemElement.classList.add('nao-encontrada');
          }
          // Destacar as células da palavra encontrada
          if (encontrada) {
            if (posicaoInicial.horizontal) {
              for (let i = 0; i < palavra.length; i++) {
                celulas[posicaoInicial.linha * grade[0].length + (posicaoInicial.coluna + i)].classList.add('encontrada');
              }
            } else {
              for (let i = 0; i < palavra.length; i++) {
                celulas[(posicaoInicial.linha + i) * grade[0].length + posicaoInicial.coluna].classList.add('encontrada');
              }
            }
          }
        } else {
          mensagemElement.textContent = `A palavra "${palavra}" não está na lista de palavras.`;
          mensagemElement.classList.remove('encontrada');
          mensagemElement.classList.add('nao-encontrada');
        }
      } else {
        mensagemElement.textContent = '';
      }
    }

    // Evento de clique no botão Verificar
    const verificarButton = document.getElementById('verificar');
    verificarButton.addEventListener('click', atualizarInterface);

    // Evento de pressionar a tecla Enter no campo de entrada
    const entradaPalavra = document.getElementById('palavra');
    entradaPalavra.addEventListener('keydown', event => {
      if (event.key === 'Enter') {
        atualizarInterface();
      }
    });
  </script>
</body>
</html>
